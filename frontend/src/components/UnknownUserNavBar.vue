<template>
  <NavBar>
      <template slot="nav-right">
        <nav-item link="" text="Menu" icon="arrow_drop_down" @click="toggleMenu">
            <template slot="menu">
                <dropdown-menu v-show="showMenu">
                    <template slot="items">
                        <dropdown-item linkName="login" text="Log in" iconClass="material-icons-round" icon="login"></dropdown-item>
                        <dropdown-item linkName="client-registration" text="Register an account" iconClass="material-icons-round" icon="app_registration"></dropdown-item>
                    </template>
                </dropdown-menu>
            </template>
        </nav-item>
      </template>
  </NavBar>
</template>

<script>
import NavItem from '@/components/NavItem.vue'
import NavBar from '@/components/NavBar.vue'
import DropdownMenu from '@/components/DropdownMenu.vue'
import DropdownItem from '@/components/DropdownItem.vue'
export default {
    name: 'HomepageNav',
    components: {
        NavBar,
        NavItem,
        DropdownMenu,
        DropdownItem,
    },
    data() {
        return {
            showMenu: false
        }
    },
    methods: {
        toggleMenu() {
            this.showMenu = !this.showMenu
        },
        close (e) {
            if (!this.$el.contains(e.target)) {
                this.showMenu = false
            }
        } 
    },
    mounted () {
        document.addEventListener('click', this.close)
    },
    beforeDestroy () {
        document.removeEventListener('click',this.close)
    }
}
</script>

<style>
.slogan {
  position: absolute;
  margin: 16px 0;
  font-size: 1rem;
  font-weight: 400;
}
</style>